[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Local Ecosystem accounts - a technical guidebook",
    "section": "",
    "text": "Introduction\nThis technical guidebook is here to assist project managers and data scientists at NINA in following a standardized and efficient method for data collection, analysis, publishing, and documentation in local-scale ecosystem accounting projects.\nThe guidebook covers the following topics:\nThis guidebook is a living document and will be updated as new methods and best practices are developed. If you have any suggestions for improvements or additions, please contact the authors or submit a pull request on the GitHub repository.",
    "crumbs": [
      "Introduction"
    ]
  },
  {
    "objectID": "index.html#introduction",
    "href": "index.html#introduction",
    "title": "Local Ecosystem accounts - a technical guidebook",
    "section": "",
    "text": "Project Management: Guidance on planning and budgeting for data infrastructure in ecosystem accounting projects.\nData collection: Procedures for collecting data in ecosystem accounting projects.\n\nField Surveys: Instructions on conducting field surveys, including common methods and protocols.\nRemote Sensing: Techniques for utilizing remote sensing data in ecosystem accounting projects.\n\nData analysis: Best practices and methods for analyzing data in ecosystem accounting projects.\nData Publishing: Steps for publishing data in NINA’s map catalogue.\nDocumentation: Guidelines for documenting your project and data.\nFAIR Data Managment: How to adhere to FAIR principles in ecosystem accounting projects.",
    "crumbs": [
      "Introduction"
    ]
  },
  {
    "objectID": "project-management/project-management.html",
    "href": "project-management/project-management.html",
    "title": "Project Management",
    "section": "",
    "text": "Data Management Plan\nLicenses, tools, software\nbudget for data management and data publishing\ninvolve Miljødata from step 1 (project application)",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Project Management</span>"
    ]
  },
  {
    "objectID": "qgis/qgis-installation.html",
    "href": "qgis/qgis-installation.html",
    "title": "Install QGIS",
    "section": "",
    "text": "Windows QGIS Installation\nInstall QGIS on Windows using NINA’s Firmaportal or by downloading the installer from the QGIS website or using the OSGeo4W installer.",
    "crumbs": [
      "QGIS",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Install QGIS</span>"
    ]
  },
  {
    "objectID": "qgis/qgis-installation.html#linux-qgis-installation",
    "href": "qgis/qgis-installation.html#linux-qgis-installation",
    "title": "Install QGIS",
    "section": "Linux QGIS Installation",
    "text": "Linux QGIS Installation\n\nNix Installation\nNix is a package manager that allows you to install software without admin rights. You can install software in a temporary environment or in your personal profile.\nInstallation:\n\nInstall Portable Nix-Shell\nwget https://github.com/DavHau/nix-portable/releases/download/v010/nix-portable -O nix-shell\nAdd permissions to Nix-Shell\nchmod +x nix-shell\nStart Nix-Shell and Install Software\n./nix-shell -p &lt;software-name&gt;\nStart the default Nix-Shell\n./nix-shell\nNote: You can define which software is installed in the default nix-shell in the default.nix file.\n# example default.nix\n{ pkgs ? import &lt;nixpkgs&gt; {} }:\n\npkgs.stdenv.mkDerivation {\nname = \"python-environment\";\nbuildInputs = with pkgs; [\n    gdal\n    qgis-ltr\n];\n\nshellHook = ''\n    echo \"Default Portable nix-shell with latest QGIS:\"\n'';\n}\n\n\n\n\n\n\n\n\nSoftware\nCommand\n\n\n\n\nLatest QGIS\n./nix-shell -p qgis-ltr\n\n\nQGIS 2.18\n./nix-shell -p qgis -I nixpkgs=https://github.com/NixOS/nixpkgs/archive/d0192e295a65dc5688ed360866fff14851148db5.tar.gz\n\n\nQGIS 3.22.16\n./nix-shell -p qgis-ltr -I nixpkgs=https://github.com/NixOS/nixpkgs/archive/1b7a6a6e57661d7d4e0775658930059b77ce94a4.tar.gz\n\n\n\n\n\nUbuntu Installation\nInstall directly from ubuntu’s package repo on to your system. Note that you need admin rights to install software using sudo commands.\nRepositories:\n\ngeneral software\ngis stable\ngis unstable (beta-versions)\n\nInstallation:\n\n\n\n\n\n\n\nCommand\nDescription\n\n\n\n\nsudo apt update\nupdate all package list\n\n\nsudo apt install &lt;software-name&gt;\ninstall software\n\n\nsudo add-apt-repository ppa:ubuntugis/ppa\nadd gis repo (not standard installed)\n\n\nsudo apt list -a qgis\nlist available versions\n\n\nsudo apt install qgis=version-number\ninstall specific version",
    "crumbs": [
      "QGIS",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Install QGIS</span>"
    ]
  },
  {
    "objectID": "qgis/qfield-intro.html",
    "href": "qgis/qfield-intro.html",
    "title": "QField and QCloud setup",
    "section": "",
    "text": "Prerequisites\nOnce you have installed QGIS on your computer. Go to Plugins &gt; Manage and Install Plugins &gt; All and install the following plugins in QGIS:\nSee QGIS plugins for other useful plugins.",
    "crumbs": [
      "QGIS",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>QField and QCloud setup</span>"
    ]
  },
  {
    "objectID": "qgis/qfield-intro.html#prerequisites",
    "href": "qgis/qfield-intro.html#prerequisites",
    "title": "QField and QCloud setup",
    "section": "",
    "text": "QGIS v3.x installed on your computer.\nQField installed on your device.\n\nGoogle Play\nApple App Store.\n\nA QField Cloud account.\n\nSign up for an account using your NINA email address here.\nSend and email to NINA’s datahjelp for access to the NINAnor QField Cloud organization and ask to be added to the Fieldwork group.\n\n\n\n\nQFieldSync: a QGIS plugin that allows you to synchronize your QGIS projects with QField Cloud.",
    "crumbs": [
      "QGIS",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>QField and QCloud setup</span>"
    ]
  },
  {
    "objectID": "qgis/qfield-intro.html#download-a-project-from-qfield-cloud",
    "href": "qgis/qfield-intro.html#download-a-project-from-qfield-cloud",
    "title": "QField and QCloud setup",
    "section": "Download a project from QField Cloud",
    "text": "Download a project from QField Cloud\n\nDownload to QField application\n\nEnsure that the mobile QField application is installed on your device.\nEnsure that you have enough free space (&gt; 3 GB).\nOpen the QField App &gt; QFieldCloud projects\nSelect a project from NINAnor or from your personal user.\nNow your Cloud project will open within your app!\n\n\n\nDownload to QGIS Desktop\n\nEnsure QField Sync Plugin is installed and enabled.\nLogin to QField cloud: click on the blue Cloud-icon.\nChoose your project from your project overview\nClick on the Folder-icon to either open your existing local project or create a local version of the project.\nNow your Cloud project will open within your QGIS desktop version!\n\n\n\n\n\nDownload QField Cloud project to QGIS desktop.",
    "crumbs": [
      "QGIS",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>QField and QCloud setup</span>"
    ]
  },
  {
    "objectID": "qgis/qfield-intro.html#manual-installation-of-a-qfield-project",
    "href": "qgis/qfield-intro.html#manual-installation-of-a-qfield-project",
    "title": "QField and QCloud setup",
    "section": "Manual installation of a QField project",
    "text": "Manual installation of a QField project\nManually add a QField project to your mobile device:\n\nPackage your QGIS project to a ZIP-file using the Package Project for QField tool.\nConnect your Android device to your PC using a USB cable.\nCopy and extract the ZIP file from your PC to your tablet/phone:\n\nSamsung phone: This PC\\Samsung XXX\\Internal storage\\Documents\\QField_zip_folder\nSamsung tablet: This PC\\Tablet\\Documents\\QField_zip_folder\n\nOpen the QField app on your mobile device.\n\nClick on Open local file\nClick on the green plus sign\nClick on Import project from folder\nNavigate to the path where you extracted the QField folder in step 3.\nSelect the folder and choose Use this folder.\nThe QField project folder is now availalbe in Imported Projects\nClick on Imported Projects &gt; Project Folder &gt; the project located under Projects\n\nNow the project will open within your app! The next time you can find it under Recent Projects.\n\n\n\n\n\nManually add a QField project to your mobile device.",
    "crumbs": [
      "QGIS",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>QField and QCloud setup</span>"
    ]
  },
  {
    "objectID": "qgis/qfield-intro.html#overview-of-ninanor-qfield-cloud-projects",
    "href": "qgis/qfield-intro.html#overview-of-ninanor-qfield-cloud-projects",
    "title": "QField and QCloud setup",
    "section": "Overview of NINAnor QField Cloud projects",
    "text": "Overview of NINAnor QField Cloud projects\n\n\n\nProject name\nDescription\n\n\n\n\nbm_2024_ecogaps\nBiodiversity Metrics 4.0 mapping in Nordre Follo. EcoGaps-project.\n\n\nnin2_2024_ecogaps\nNiN 2.0 naturetype mapping in Nordre Follo. EcoGaps-project.\n\n\nnin2_2024_envisol\nNiN 2.0 naturetype mapping in Stor Elvdal. EnviSol-project.\n\n\nnin2_2024_norge\nNiN 2.0 naturetype mapping. A template for the whole of Norway.",
    "crumbs": [
      "QGIS",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>QField and QCloud setup</span>"
    ]
  },
  {
    "objectID": "qgis/qfield-intro.html#official-documentation",
    "href": "qgis/qfield-intro.html#official-documentation",
    "title": "QField and QCloud setup",
    "section": "Official Documentation",
    "text": "Official Documentation\nOfficial QField documentation: docs.qfield.org\n\nUsefull how to guides:\n\nMap controls: map-interaction\n\nvisibility of layers\nselect features\n\nDigitize features: digitize\n\nNote that you must be in editing mode to change feature and their attributes, otherwise your changes are not saved!\n\nAttribute forms: attributes-form\n\nHow to create attribute forms in QGIS Desktop",
    "crumbs": [
      "QGIS",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>QField and QCloud setup</span>"
    ]
  },
  {
    "objectID": "qgis/qgis-plugins.html",
    "href": "qgis/qgis-plugins.html",
    "title": "QGIS plugins",
    "section": "",
    "text": "Install plugins in QGIS by going to Plugins &gt; Manage and Install Plugins &gt; All and search for the plugin you want to install.\n\n\n\nPlugin\nDescription\n\n\n\n\nQFieldSync\nA QGIS plugin that allows you to synchronize your QGIS projects with QField Cloud.\n\n\nNiB-ortofoto-prosjekt\nA QGIS plugin that allows you to add high-resolution aerial photos from the Norwegian Mapping Authority (Kartverket) and use them as a background (WMS) layer in your QGIS project. It finds all available aerial photos for the area you are working in and adds them to your project.\n\n\n\n\nPlease add more plugins to this list by clicking on: Edit this page.",
    "crumbs": [
      "QGIS",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>QGIS plugins</span>"
    ]
  },
  {
    "objectID": "qgis/qgis-background-maps.html",
    "href": "qgis/qgis-background-maps.html",
    "title": "Background layers",
    "section": "",
    "text": "A list of usefull WMS/WMTS/XYZ links that can be added as online background layers in QGIS.\n\n\n\nName\ndescription\nurl\n\n\n\n\nKartverket N50 topo\nTopographic map of Norway.\nhttp://opencache.statkart.no/gatekeeper/gk/gk.open_gmaps?layers=topo4&zoom={z}&x={x}&y={y}\n\n\nNiB Ortomosaic\nNorge i Bilder. Orthomosaic of Norway.\nhttp://opencache.statkart.no/gatekeeper/gk/gk.open_nib_utm33_wmts_v2\n\n\nOverflatemodel (DOM)\nDigital surface model of Norway.\nhttps://wms.geonorge.no/skwms1/wms.hoyde-dom\n\n\nTerrengmodell (DTM)\nDigital terrain model of Norway.\nhttps://wms.geonorge.no/skwms1/wms.hoyde-dtm\n\n\nFelles KartdataBase (FKB)\nCommon map data base of Norway with among others building, roads and landuse data.\nhttps://openwms.statkart.no/skwms1/wms.fkb\n\n\nMatrikkel\nCadastre data of Norway.\nhttps://openwms.statkart.no/skwms1/wms.matrikkel\n\n\nGrunnkart for Arealregnskap\nBase map for area accounting in Norway.\nhttps://wms.nibio.no/cgi-bin/arealregnskap_grunnkart\n\n\n\n\nPlease add more background layers to this list by clicking on: Edit this page.",
    "crumbs": [
      "QGIS",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Background layers</span>"
    ]
  },
  {
    "objectID": "data-collection/field-surveys/qfield-nin.html",
    "href": "data-collection/field-surveys/qfield-nin.html",
    "title": "NiN 2.0 Naturtype Mapping",
    "section": "",
    "text": "User Guide",
    "crumbs": [
      "Data Collection",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>NiN 2.0 Naturtype Mapping</span>"
    ]
  },
  {
    "objectID": "data-collection/field-surveys/qfield-nin.html#user-guide",
    "href": "data-collection/field-surveys/qfield-nin.html#user-guide",
    "title": "NiN 2.0 Naturtype Mapping",
    "section": "",
    "text": "Install NiN QField on your tablet\nThe NiN 2.0 QGIS template is uploaded to NINA’s QField Cloud account. For general instructions on QGIS, QField and QField Cloud follow the guide: QGIS and QField introduciton.\n\nOpen QField on your tablet and go to QFieldCloud projects &gt; My Projects\nSelect the project and the latest version of the project will be downloaded to your tablet.\n\nnin2_project_name_year: project specific NiN mapping template.\nnin2_norge_2024: NiN mapping template for the whole of Norway.\n\nIt can take up to several minutes to download your project\nSet your user name in the QField app. This ensures that your name is automatically added to the kartlegger field in the attribute table, every time you map a new naturtype.\n\nGo to Settings &gt; Settings &gt; Variables\nAdd a new variable qfield_user_name with your name firstname.lastname\n\nRead the PDF instructions, especially chapter 3 “Kartlegging av NiN-Naturtyper”",
    "crumbs": [
      "Data Collection",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>NiN 2.0 Naturtype Mapping</span>"
    ]
  },
  {
    "objectID": "data-collection/field-surveys/qfield-nin.html#developer-guide",
    "href": "data-collection/field-surveys/qfield-nin.html#developer-guide",
    "title": "NiN 2.0 Naturtype Mapping",
    "section": "Developer Guide",
    "text": "Developer Guide\n\nHow to create a new NiN 2.0 template for a new project area?\nYou can create a new template for a new mapping area by using the NiN 2.0 mapping template for the whole of Norway. Here you need to add your study area polygon and offline background maps.\n\nRead the PDF instructions, especially chapter 2 “Installering og oppstart”.\nDownload the qfield_nin2_norge QField template from NiN_QGIS_3.x repository.\nCreate a new polygon layer study_area and save it to vector/%project_name%_misc.gpkg GPKG and add it to the Area group.\nDownload raster files in GeoTIFF format from høydedata.no and norgeibilder.no.\n\nDTMs and DSMs: høydedata.no\nOrtophotos (RGB and CIR): norgeibilder.no\n\nLogin with your Geonorge GeoID\nenter study area bounding box coordinates\nCoordinate system: UTM 33\nclip by bounding box\nsend order\n\n\nConvert your rasters to Cloud Optimized GeoTiffs. Shell scripts can be found here.\nAdd your downloaded raster files as offline map layers in QField.\nUpload your new project to QField Cloud and invite the fieldworkers (collaborators) to the project.\n\n\n\nChange log:\nWe forked the NiN 2.0 Template from the GitHub repository developed by the University of Oslo. Changes made to orginal template are documented here.\n\n\nNINA Contacts\n\n\nNiN:\n\nTrond Simensen\nErik Stange\nAnders Lyngstad\n\n\nQGIS/QField Cloud managers:\n\nWilleke A’Campo\nStig Claussen",
    "crumbs": [
      "Data Collection",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>NiN 2.0 Naturtype Mapping</span>"
    ]
  },
  {
    "objectID": "data-collection/field-surveys/qfield-bm.html",
    "href": "data-collection/field-surveys/qfield-bm.html",
    "title": "Biodiversity Metric 4.0",
    "section": "",
    "text": "User Guide",
    "crumbs": [
      "Data Collection",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Biodiversity Metric 4.0</span>"
    ]
  },
  {
    "objectID": "data-collection/field-surveys/qfield-bm.html#user-guide",
    "href": "data-collection/field-surveys/qfield-bm.html#user-guide",
    "title": "Biodiversity Metric 4.0",
    "section": "",
    "text": "Install the Biodiversity Metric app on your tablet\nThe Biodiversity Metric 4.0 QGIS template is uploaded to NINA’s QField Cloud account.\n\nOpen QField on your tablet and go to QFieldCloud projects &gt; My Projects\nSelect the project and the latest version of the project will be downloaded to your tablet.\n\nbm4_project_name_year: project specific NiN mapping template.\n\nIt can take up to several minutes to download your project\nSet your user name in the QField app. This ensures that your name is automatically added to the Mapped by field in the attribute table, every time you map a new naturtype.\n\nGo to Settings &gt; Settings &gt; Variables\nAdd a new variable qfield_user_name with your name firstname.lastname\n\nRead the PDF instructions here.\n\n\n\n\n\nExample of the Biodiveristy Metrics template opened in QGIS Desktop.",
    "crumbs": [
      "Data Collection",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Biodiversity Metric 4.0</span>"
    ]
  },
  {
    "objectID": "data-collection/field-surveys/qfield-bm.html#developer-guide",
    "href": "data-collection/field-surveys/qfield-bm.html#developer-guide",
    "title": "Biodiversity Metric 4.0",
    "section": "Developer Guide",
    "text": "Developer Guide\n\nHow to create a new Biodiveristy Metric template for a new project area?\nYou can create a new template for a new mapping area by using the Biodiveristy Mapping template for Norway. Here you need to add your study area polygon and offline background maps.\n\nDownload the QField template from the BiodiversityMetric_QGIS_3.x repository.\nCreate a new polygon layer study_area and save it to vector/%project_name%_misc.gpkg GPKG and source it to the Red Line Boundary(Kartleggingsgrense) group.\nDownload raster files in GeoTIFF format from høydedata.no and norgeibilder.no.\n\nDTMs and DSMs: høydedata.no\nOrtophotos (RGB and CIR): norgeibilder.no\n\nLogin with your Geonorge GeoID\nenter study area bounding box coordinates\nCoordinate system: UTM 33\nclip by bounding box\nsend order\n\n\nConvert your rasters to Cloud Optimized GeoTiffs. Shell scripts can be found here.\nAdd your downloaded raster files as offline map layers in QField.\nUpload your new project to QField Cloud and invite the fieldworkers (collaborators) to the project.\n\n\n\nChange log:\nWe adapted the template from The Statutory Biodiversity Metric - QGIS template, developed and published by Natural England (JP039) under the Open Government Licence - OGLv3.0. Changes made to orginal template are documented here.\n\n\nNINA Contacts\n\n\nBiodiversity Metrics:\n\nTrond Simensen\nErik Stange\n\n\nQGIS/QField Cloud managers:\n\nWilleke A’Campo\nStig Claussen",
    "crumbs": [
      "Data Collection",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Biodiversity Metric 4.0</span>"
    ]
  },
  {
    "objectID": "data-collection/field-surveys/qfield-bgf.html",
    "href": "data-collection/field-surveys/qfield-bgf.html",
    "title": "Bluegreen Factor",
    "section": "",
    "text": "short description here\n\nNINA Contacts\n\n\nBGF:\n\nDavid Barton\nBart Immerzeel\nMaria Korkou\n\n\nQGIS/QField Cloud Managers:\n\nWilleke A’Campo\nStig Claussen",
    "crumbs": [
      "Data Collection",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Bluegreen Factor</span>"
    ]
  },
  {
    "objectID": "data-collection/field-surveys/rshiny-carbonviewer.html",
    "href": "data-collection/field-surveys/rshiny-carbonviewer.html",
    "title": "CarbonViewer",
    "section": "",
    "text": "The CarbonViewer app calculates the total volume of peat (m3) and the total carbon content (Tons C) in a peatland area. To be able to calculate those values the peatland area must be sampled for peat depth and the peatland type must be recorded.\n\nNote that CarbonViewer is not a field application! The user must go out in the field and record peat depth (cm) and the coordinates of the measurements before using CarbonViewer. Monica Ruano can be contacted to set up a field schema used for mapping.\n\n\nNINA Contacts\n\n\nCarbonViewer:\n\nMagni Olsen Kyrkjeeide\nAnders Lyngstad\n\n\nRShiny Developers:\n\nBenjamin Cretois\nWilleke A’Campo",
    "crumbs": [
      "Data Collection",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>CarbonViewer</span>"
    ]
  },
  {
    "objectID": "data-analysis/data-analysis.html",
    "href": "data-analysis/data-analysis.html",
    "title": "Data Analysis",
    "section": "",
    "text": "comparison of methods\nrefer to previous project methods\nbest practices",
    "crumbs": [
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Data Analysis</span>"
    ]
  },
  {
    "objectID": "data-publishing/data-publishing.html",
    "href": "data-publishing/data-publishing.html",
    "title": "Data Publishing",
    "section": "",
    "text": "Step-by-step guide for submitting data",
    "crumbs": [
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Data Publishing</span>"
    ]
  },
  {
    "objectID": "data-publishing/data-publishing.html#step-by-step-guide-for-submitting-data",
    "href": "data-publishing/data-publishing.html#step-by-step-guide-for-submitting-data",
    "title": "Data Publishing",
    "section": "",
    "text": "Organize your data\n\n\nCreate a folder nina_map_catalog within your project folder (P:/)\nGroup your data into Ecosystem Accounting Framework groups: services, extent, condition, misc.\nRaster data:\n\nsave each raster as a single-band GeoTIFF into the nina_map_catalog folder.\nuse underscore as spaces (air_pollution_0301.tif)\n\nVector data:\n\nsave all vector layers of one group into one GeoPackage and save it in the nina_map_catalog folder.\n%project_name%_service.gpkg\n%project_name%_extent.gpkg\n%project_name%_condition.gpkg\n%project_name%_misc.gpkg\n\n\n\nFill out the import schema\n\nDownload import schema\nEnsure to read the README-sheet and fill out all required (*) fields.\nImportant: Check the data source of each data layer. If the data source is not owned by NINA, provide the WMS link to the original source and the link of where users can download this data (for example GeoNorge). For example, we do not add AR5 data into the gpkg’s! Instead we show the map as a WMS layer and point the users to NIBIO for downloading the data.\n\nLayer styling\n\nsave your vector layer style inside your Geopackage.\nsave your raster colormap inside a .txt file: “datasetName-style.txt”\n\nNote: it is recommended to save your layer style inside your Geopackage using QGIS or create a QGIS style file. It is also possible to share your style using another file format (e.g. arcgis pro style file, yaml- python- or R-script with styling info.) We try to make the styling as similar as possible, but know that the MapLibre library we use is not as advanced as for example ArcGIS Pro. So customized colormaps might look slightly different in the NINA Maps Portal.\nRequest for publishing a new project within the EA NINA map portal\n\nSend the following information to Miljødata:\n\nthe filled out import-schema\nthe path to your cleaned and organized data: P:/…/nina_map_catalog\na qgis file, a arcgispro layer file, an agol app, an R or python file that displays your preferred styling of the map layers.\n\n\n\n\nExample structure of nina_map_catalog folder:\nP:/.../nina_map_catalog\n├── NINA_naturregnskap_metadata_importskjema_PROSJEKTNAVN.xlsx    (import schema)\n├── *%project_name%*_layer_styling.qgz                            (qgis project with preferred styling)\n├── *%project_name%*_condition.gpkg                               (vector layers grouped by EA framework)  \n├── *%project_name%*_extent.gpkg\n├── *%project_name%*_misc.gpkg\n|    ├── study_area\n|    └── vector_layer\n├── *%project_name%*_service.gpkg\n├── air_pollution_0301.tif                                        (single band raster layers)\n└── raster_layer.tif",
    "crumbs": [
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Data Publishing</span>"
    ]
  },
  {
    "objectID": "data-publishing/data-publishing.html#guide-for-developers",
    "href": "data-publishing/data-publishing.html#guide-for-developers",
    "title": "Data Publishing",
    "section": "Guide for developers",
    "text": "Guide for developers\nDevelopers:\n\nNiccolò Cantù\nFrancesco Frassinelli\n\nDocumentation: https://ninanor.github.io/nina-catalogue\nNINA’s catalogue includes a Map Module for storing maps, accesible at maps.nina.no, and a Datasets Module for storing data and metadata, accesible via PyGeoAPI. For the Local Ecosystem Accounts dataset (Finskala Naturregnskap), maps are uploaded to the Map Catalogue. In the future, these maps may also be uploaded as a dataset thus be accesible via the PyGeoAPI.\nBelow is a brief guide for setting up a local installation of the Catalogue on your machine. For detailed information and inquiries, please refer to the documentation or contact the developers. This is meant for development and testing, the production environment is managed by Niccolò Cantù.\n\nInstallation instructions\nPrerequisites:\n\nLinux OS\nDocker\n\nGitHub repositories:\n\n\n\nRepository\nDescription\nTechnologies\n\n\n\n\nnina-catalogue\nBackend architecture\nDjango and PostgreSQL\n\n\nnina-map-explorer\nFrontend map application\nMapLibre with PM Tiles\n\n\nnaturregnskap_maps_uploader\nAPI, specifically designed for uploading map data and metadata to the Local Ecosystem Accounts dataset using the import schema.\nPython\n\n\n\nInstallation steps:\n\nInstall the backend architecture\n\nFollow the instructions in the README of the nina-catalogue\n\nCreate secrets in the secrets folder\ncd setup\ndocker compose up --build\nstart all services in dev mode\n# source the helper functions\n. helpers.sh\n\n# alias in helpers.sh\n# run the docker-compose file in the dev profile\n# env variables are loaded from secrets \ndpcli_dev up --build\ncreate an admin user\ndjcli_dev migrate\ndjcli_dev createsuperuser\nSet the admin email and password, and remember them to later login to the Django admin: localhost:8000/admin/\nstart the Django admin interface\nxdg-open http://localhost:8000/admin\ngenerate a token for your user in Django admin GUI: Tokens -&gt; Add token\n\n\n\n\n\n\n\nDjango Admin GUI\n\n\n\nInstall the frontend map application\n\nFollow the instructions in the README of the nina-map-explorer\n\nstart the web service in prod mode\n# Start all services defined in the docker-compose.yml\n# -d run in detached mode (background)\ndocker compose --profile prod up\nstart the web app\nxdg-open http://localhost:3000\n\n\n\n\nErrors in the web application can be inspected in the browser console using: right-click -&gt; inspect -&gt; console or ctrl+shift+j.\n\n\nInstall the Naturregnskap API\n\nFollow the instructions in the README of the naturregnskap_maps_uploader\n\nInstall the Python environment\n  ```{bash}   \n  python3 -m venv .venv\n  source .venv/bin/activate\n\n  pip install -e .\n\n  touch .env\n  ```\nConfigure the API with the Django backend\n\nCopy the token generated in Django admin (step 1)\nAdd the token to the .env file\n\nAUTH_TOKEN=my_token\nDEBUG=True\n\n\n\nNow you have a local installation of the NINA Catalogue and the following services are available:\n\n\n\nService\nURL\n\n\n\n\nMetadata catalogue\nlocalhost:8000\n\n\nDjango admin\nlocalhost:8000/admin/\n\n\nMap application\nlocalhost:3000\n\n\nDocumentation\nlocalhost:3001",
    "crumbs": [
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Data Publishing</span>"
    ]
  },
  {
    "objectID": "data-publishing/data-publishing.html#how-to-create-a-map-and-upload-data-to-the-nina-catalogue",
    "href": "data-publishing/data-publishing.html#how-to-create-a-map-and-upload-data-to-the-nina-catalogue",
    "title": "Data Publishing",
    "section": "How to create a map and upload data to the NINA Catalogue",
    "text": "How to create a map and upload data to the NINA Catalogue\nBelow are the steps to create a map for the Local Ecosystem Accounts dataset and upload the data to the NINA Catalogue from scratch. You only need to create a map once, and then you can upload data to the same map multiple times using the API.\n\nDjango admin - Create a Map\n\nDjango admin -&gt; Maps -&gt; Add map\nFill out the form and save. An error will be shown if the form is not filled out correctly.\nThe field Extras can be used to directly pass a JSON object to the MapLibre Frontend. For example, to set the initial map view, you can pass the following JSON object: {\"center\": [10.7, 59.9]}.\n\nDjango admin - Add background layer to the map.\n\nadd raster source\n\nMaps &gt; Raster sources\nSet tile-URL, zoom and size in extras:\n{\n\"tiles\": [\"https://a.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png\"], \n\"maxZoom\": 20, \n\"tileSize\": 256\n}\n\nadd source to the Map as Layer\n\nMaps &gt; Layers &gt; Add layer\nSet style: {\"type\": \"raster\"}\ncheck basemap box\n\n\nPrepare your data\n\nPrepare the raster data\n\nraster_operations.sh\n\nmosaic rasters (if raster is split into multiple files)\nclip the raster to your study area, set a NoData value, and set the coordinate system\n\ngenerate_cog.sh\n\nconvert a GeoTIFF to a Cloud Optimized GeoTIFF (COG)\n# source the helper functions\nsource raster_operations.sh\nsource generate_cog.sh\n\n# mosaic rasters\nmosaic_rasters /path/to/input_dir /path/to/mosaic_output.tif\n\n# clip the raster\nclip_raster input.tif input.gpkg clip_layer output.tif NODATA EPSG \n\n# convert to COG (using default method, see the script for more options)\nto_cog /path/to/input.tif default\n\n\nPrepare the vector data\n\ngenerate_pmtiles.sh\n\nconvert the GPKGs to PMTiles using GDAL &gt;= 3.8.\nMAXZOOM and MINZOOM influence the level of detail in the map and the size of the tiles (higher values = more detail, larger tiles).\ndocs: gdal.org/drivers/vector/pmtiles.html.\nsource generate_pmtiles.sh\ngenerate_pmtiles /path/to/input.gpkg /path/to/output.pmtiles MINZOOM MAXZOOM\n\n\n\nStyle your data\n\nStyle template: style.json\n\nNaturregnskaps API - Upload map layers and metadata\n\nCheck the import schema (provided by the projects data manager)\nCheck the style file\nUpload the data and metadata using the API\ncommand: naturregnskap_maps_uploader_start http://server:port map_slug --wd /path/to/data/\nexample: naturregnskap_maps_uploader_start http://localhost:8000 localEA --wd ~/temp/nina-map-catalog\nThe API will read the import schema and upload the data to the NINA Catalogue.",
    "crumbs": [
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Data Publishing</span>"
    ]
  },
  {
    "objectID": "fair-data/naming-convention.html",
    "href": "fair-data/naming-convention.html",
    "title": "Naming Convention",
    "section": "",
    "text": "How to name variables etc.",
    "crumbs": [
      "FAIR Data Management",
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>Naming Convention</span>"
    ]
  },
  {
    "objectID": "appendix/appendix-notes.html",
    "href": "appendix/appendix-notes.html",
    "title": "Appendix A — Additional Notes",
    "section": "",
    "text": "Sample appendix",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>A</span>  <span class='chapter-title'>Additional Notes</span>"
    ]
  },
  {
    "objectID": "data-collection/data-collection.html",
    "href": "data-collection/data-collection.html",
    "title": "Data Collection",
    "section": "",
    "text": "Field surveys\nThis page presents a list of field surveys and applications usefull for ecosystem accounting projects.\nAvailable Field Applications:",
    "crumbs": [
      "Data Collection"
    ]
  },
  {
    "objectID": "data-collection/data-collection.html#sec-field-surveys",
    "href": "data-collection/data-collection.html#sec-field-surveys",
    "title": "Data Collection",
    "section": "",
    "text": "NiN 2.0 Naturetype Mapping\nBiodiversity Metric 4.0\nBlue Green Factor\nCarbon Viewer\n\n\n\n\n\nField Application\nTool\nInstructions\nDownload\n\n\n\n\nNiN 2.0  Naturetype Mapping\nQGIS/QField\nPDF Instructions\nNINAnor/NiN_QGIS_3.x\n\n\nBiodiversity Metric 4.0\nQGIS/QField\n• GIS tools User Guide (PDF)  • Data Standard (XLSX)\nNINAnor/BiodiversityMetric_QGIS_3.x\n\n\nBluegreen Factor\nQGIS/QField\nunder development\nunder development\n\n\nCarbonViewer\nRShiny\n• App Instructions  • Publication\n• NINAnor/carbonviewer  • carbonviewer.nina.no",
    "crumbs": [
      "Data Collection"
    ]
  },
  {
    "objectID": "data-collection/data-collection.html#sec-remote-sensing",
    "href": "data-collection/data-collection.html#sec-remote-sensing",
    "title": "Data Collection",
    "section": "Remote sensing",
    "text": "Remote sensing\n\nAdd usefull sources for EA.",
    "crumbs": [
      "Data Collection"
    ]
  }
]